# 第三章 8086的指令系统和寻址方式

指令系统概述

概念:指计算机所有机器指令的集合

要求:

完备性:指令足够使用

有效性:程序占据存储空间小、执行速度快

规整性:包括指令系统的对称性、匀齐性、指令格式和数据格式的一致性

兼容性:系列机各机种之间具有相同的基本结构和共同的基本指令集

分类:

按指令格式的复杂度

●CISC: Complex Instruction Set Computer

●RISC: Reduced Instruction Set Computer

按功能:

数据处理指令:包括算术运算指令、逻辑运算指令、
移位指令、比较指令等。

●数据传送指令:包括寄存器之间、寄存器与主存储
器之间的传送指令等。

●程序控制指令:包括条件转移指令、无条件转移指
令、转子程序指令等。

●输入一输出指令:包括各种外围设备的读、写指令
等。有的计算机将输入一输出指令包含在数据传送
指令类中。

●状态管理指令:包括诸如实现置存储保护、中断处
理等功能的管理指令。

指令格式：

操作码+操作数

（操作码 目的操作数 原操作数）

机器指令：

二进制代码

汇编指令：

助记符

## 3.1 寻址方式

与数据有关的寻址方式

①立即寻址

②寄存器寻址

③直接寻址

④寄存器间接寻址

⑤寄存器相对寻址

⑥基址变 址寻址

⑦相对基址变址寻址

与转移地址有关的寻址方式

### 3.1.1与数据有关的寻址方式
1 立即寻址:操作数直接存放在指令中

> mov ax,1234

2 寄存器寻址:操作数在寄存器中，指令指定寄存器号 

> mov ax,bx

3 直接寻址:指令中直接存放操作数的有效地址

> mov al,[1064H]
>
> 把1064H的内容取出来给al

说明:
操作数的这个地址可称为位移量;
可用符号地址来表示位移量;
●MOV AX，VALUE
●MOV AX，[VALUE]
可进行段跨越
●MOV AX， ES: VALUE .
双操作数指令中，只能有一一个使用存储器寻址

4 间接寻址:操作数的有效地址在相关寄存器中

> mov ax,[bx]

说明:
可用寄存器有
●BX、SI、DI:默认段寄存器为DS
●BP:默认段寄存器为SS
●BX、BP:基址寄存器.
●SI、 DI: 变址寄存器
寄存器写在[ ]中
  可进行段跨越

5 寄存器相对寻址:也可称为直接变址寻址,操作数的有效地址为基址或变址寄存器内容
加位移量构成，可进行段跨越

> mov ax,[bx+1234h]

## 3.3 8086指令系统

注意内容：
指令的功能
指令支持的寻址方式
指令对标志的影响
其他方面：
指令执行时的约定设置、必须预置的参数、隐含使用的寄存器等

### 3.3.1数据传送指令
1 MOV传送指令

格式为: MOV DST，SRC
执行操作: (DST) ←(SRC)
例:
MOV AX,BX
MOV CX,1234H
MOV AX,WORD PTR[BX]
MOV DS,AX

说明:

-源操作数SRC和目的操作数DST字长相等
-不影响标志位
-目的操作数不能为立即数
-立即数不能直接送段寄存器
-目的操作数不能为CS
-不能在两个存储单元间直接传送数据
-不能在两个段寄存器间直接传送数据
-除了源操作数为立即数外，必须有一个操作数为寄存器



2 PUSH进栈指令

格式为: PUSH SRC
执行操作: (SP)<- (SP)-2
((SP)+ 1,(SP))<- (SRC)
例:已知(AX) =1234H
(SP) =5678H 
执行PUSH AX指令后
(SP) =5676H



3 POP出 栈指令

格式为:
POP DST
执行操作: (DST)<((SP)+ 1,(SP))
(SP)←(SP)十2
例:已知(AX) =1234H
(SP) =5678H
执行POP AX指令后
(SP) =567AH
( AX) =1234H



4 XCHG交换指令
格式为: XCHG OPR1,OPR2
执行操作: (OPR1)< >(OPR2)
例:
XCHG AX,BX
说明:
两个操作数中必须有一个在寄存器中
不允许使用段寄存器



5、XLAT换码指令
格式为: XLAT OPR/XLAT
执行操作: (AL)<- ((BX)+ (AL))；bx码表的首地址 

例:
XLAT
说明:
操作数可不写.
若写操作数，必须为AL

 

6 IN和OUT端口访问指令
端口，即计算机接口电路中能够被访问的寄存器
在端口访问指令中，需要知道端口地址
在第八章中讲解



7、LEA有 效地址送寄存器指令
格式为: LEA REG,SRC
执行操作: (REG)< -SRC
例:

LEA BX,【SI】【D】

说明:
OFFSET只能获取变量、标号的有效地址



8、CBW和CWD类型转换指令
格式为:CBW;AL的内容符号扩展到AH.
CWD ;AX的内容符号扩展到DX
例:
CWD
当AX最高位为0时，DX=0
当AX最高位为1时，DX-OFFFFH
说明:
该指令认为最高位为符号位



### 3.3.2算术指令

1、ADD加法指令
格式为: ADD DST , SRC
执行操作: (DST)< (SRC)+ (DST)
例:
ADD AX,BX
ADD CX,0F1H
说明:影响标志位



2、ADC带进位加法指令
格式为: ADD DST , SRC
执行操作: (DST)<(SRC)+(DST)+CF
例:32位数据加法
已知加数在(DX,AX)和(BX,CX)中
则指令序列为:
ADD AX,CX
ADC DX, BX



4、 sub减法指令



5、SBB带借位减法
格式为: 
SBB DST, SRC
执行操作: (DST)<← (DST)一(SRC) - CF



6、DEC减1指令
格式为: DEC OPR
执行操作: (OPR)≤ (OPR)一1
说明:
不影响CF标志位



16位

例：W=X+Y-Z(计算无溢出)

mov ax,x

add ax,y

sub ax,z

mov w,ax

32位

例: W←x十Y一Z(计算过程无溢)

指令序列为:

MOV AX,X

MOV DX,X+2

ADD AX,Y

ADC DX,Y+2

SUB AX,Z

SBB DX,Z+2

MOV W,AX

MOV W+2,DX



7、NEG求补指令（只是单纯的按位取反加1）

格式为: NEG OPR

执行的操作: (OPR)← - (OPR)

说明:

求补，即按位取反末尾加1

也可表示为:

(OPR)< -0FFFFH- (OPR)+1



8、CMP比较指令

格式: CMP OPR1 , OPR2

执行的操作: (OPR1}- (OPR2)
说明:

该指令不保存结果

只根据结果设置标志位

一般用于转移结构中



9、MUL无符号乘法指令. 
格式为: MUL SRC

执行操作:

字节操作数: (AX)<-AL*SRC

字操作数: (DX,AX)<- AX*SRC
说明:

源操作数不能为立即数

目的操作数隐含固定

只影响CF和OF标志位，其他无定义

(积的高一半为0，则CF=OF=0， 否则为1 )



10、IMUL带符号数乘法指令
格式为: IMUL SRC

执行的操作:

字节操作数: (AX)<AL**SRC*

字操作数: (DX,AX)< AX*SRC

说明:

只影响CF和OF标志位，其他无定义

(积的高一半是低一半的符号扩展，则CF=OF=0，否则为1)



11、DIV无符号除法指令

格式: DIV SRC

执行操作:

字节操作: (AL)<(AX)/(SRC)的商

(AH)<(AX)/(SRC)的余数

字操作: (AX)<(DX,AX)/(SRC)的 商

(DX)<(DX,AX)/(SRC)的余数

说明:

源操作数不能为立即数

目的操作数隐含固定

对所有标志位无定义

除法溢出有系统转入0号中断进行处理



12、IDIV带 符号除法指令

格式: 

DIV SRC

执行操作:

字节操作: (AL)< (AX)/(SRC)的商

(AH)< (AX)/(SRC)的余数

字操作:

(AX)<(DX,AX)/(SRC)的商

(DX)<(DX,AX)/(SRC)的余数



例：Z<-(W*X)/(Y+6),R<-余数(16位带符号数)

mov ax,w

imul x

add y,6

idiv y

mov z,ax

mov r,dx



### 3.3.3逻辑指令

1、AND

逻辑与
2、OR

逻辑或

3、NOT

逻辑非

4、XOR

逻辑异或

5、TEST 逻辑测试

说明:

NOT为单操作数，且不允许使用立即数

TEST进行操作数的与，但不保存结果

NOT不影响标志位

其他指令影响SF、ZF、PF标志位(CF=OF=0)

均为按位操作，可以进行位的置0、置1、取反、测试等操作

例:屏蔽AL寄存器中的0、1两位

MOV AL,OBFH

AND AL,OFCH

例:对AL寄存器中的第5位置1

MOV AL 43H

OR AL,20H



### 3.3.4移位指令

SHL逻辑左移

SAL算术左移

SHR逻辑右移

SAR算术右移

ROL循环左移

ROR循环右移

RCL带进位循环左移

RCR带进位循环右移

格式为:操作码OPR,CNT 

说明:
指令格式为:操作码OPR,CNT

当CNT=1时，指令为操作码OPR,1

当CNT≥1时，指令为操作码OPR,CL

对CF有影响

当CNT=1时，对OF有影响

移位指令还影响SF、ZF、PF标志位

移位指令可用于乘2或除2的操作

例:对SI寄存器内容乘4

MOV SI,145OH

MOV CL,2

SHL SI,CL

### 3.3.5串处理指令

1、与REP配合 工作的指令

MOVS

STOS

LODS

INS

OUT

2、与REPE/REPZ和REPNE/REPNZ配合 的指令

CMPS

SCAS

说明:

块操作

相关寄存器ES、DS、CX

相关指令CLD、STD

### 3.3.6控制转移指令

#### 3.3.6.1 JMP无条件转移指令

1、段内直接短转移.
格式为: JMP SHORT OPR
执行操作: (IP)< (IP)+8位位移量
说明:
OPR为目 标地址，汇编指令中使用标号，又称为符号地址

8位位移量=目标地址OPR-JMP指令的下一条指令的地址
位移量为有符号数.
转移范围:当前位置的-128~+127

